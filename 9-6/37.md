å¥½çš„ï¼Œé’ˆå¯¹PDDäºŒé¢çš„åç»­é—®é¢˜ï¼Œæˆ‘å°†ä¸ºä½ æä¾›ä¸€ä»½ä¸“ä¸šã€æ·±å…¥çš„è§£ç­”ã€‚

## ğŸ“Š ä¸€ã€åŒæ­¥/å¼‚æ­¥ä¸é˜»å¡/éé˜»å¡IOè¯¦è§£

### 1. æ ¸å¿ƒæ¦‚å¿µæ¡†æ¶

```mermaid
mindmap
  root(IOæ¨¡å‹è¯¦è§£)
    (æ¦‚å¿µç»´åº¦)
      (åŒæ­¥ vs å¼‚æ­¥)
        (åŒæ­¥IO)
          ç”¨æˆ·çº¿ç¨‹ç­‰å¾…IOå®Œæˆ
          éœ€è¦ä¸»åŠ¨æŸ¥è¯¢ç»“æœ
        (å¼‚æ­¥IO)
          ç”¨æˆ·çº¿ç¨‹ä¸ç­‰å¾…IOå®Œæˆ
          å›è°ƒæœºåˆ¶é€šçŸ¥ç»“æœ
      (é˜»å¡ vs éé˜»å¡)
        (é˜»å¡IO)
          çº¿ç¨‹æŒ‚èµ·ç­‰å¾…æ•°æ®å°±ç»ª
          ç³»ç»Ÿè°ƒç”¨ç«‹å³é˜»å¡
        (éé˜»å¡IO)
          çº¿ç¨‹ç«‹å³è¿”å›çŠ¶æ€
          è½®è¯¢æ£€æŸ¥æ•°æ®å°±ç»ª

    (ç»„åˆæ¨¡å‹)
      (åŒæ­¥é˜»å¡IO)
        BIOæ¨¡å‹
        æœ€ç®€å•ç›´è§‚
      (åŒæ­¥éé˜»å¡IO)
        è½®è¯¢æ¶ˆè€—CPU
      (IOå¤šè·¯å¤ç”¨)
        Select/Poll/Epoll
        äº‹ä»¶é©±åŠ¨æ¨¡å¼
      (å¼‚æ­¥IO)
        AIOæ¨¡å‹
        çœŸæ­£å¼‚æ­¥å¤„ç†

    (Javaå®ç°)
      (BIO)
        Socket/ServerSocket
        çº¿ç¨‹æ± ä¼˜åŒ–
      (NIO)
        Channel/Buffer/Selector
        Reactoræ¨¡å¼
      (AIO)
        AsynchronousChannel
        Proactoræ¨¡å¼
```

### 2. è¯¦ç»†åŒºåˆ«ä¸è”ç³»

**ä¸¤ç»„æ¦‚å¿µçš„ä¸åŒç»´åº¦ï¼š**

- **é˜»å¡ vs éé˜»å¡**ï¼šå…³æ³¨çš„æ˜¯**çº¿ç¨‹çŠ¶æ€**
  - é˜»å¡ï¼šçº¿ç¨‹è¢«æŒ‚èµ·ï¼Œç­‰å¾…æ“ä½œå®Œæˆ
  - éé˜»å¡ï¼šçº¿ç¨‹ç«‹å³è¿”å›ï¼Œä¸è¢«æŒ‚èµ·

- **åŒæ­¥ vs å¼‚æ­¥**ï¼šå…³æ³¨çš„æ˜¯**æ¶ˆæ¯é€šä¿¡æœºåˆ¶**
  - åŒæ­¥ï¼šä¸»åŠ¨ç­‰å¾…æˆ–è½®è¯¢ç»“æœ
  - å¼‚æ­¥ï¼šè¢«åŠ¨æ¥æ”¶é€šçŸ¥æˆ–å›è°ƒ

**å››ç§ç»„åˆæ¨¡å‹ï¼š**

| æ¨¡å‹ | ç‰¹ç‚¹ | åº”ç”¨åœºæ™¯ | Javaå®ç° |
|------|------|----------|----------|
| **åŒæ­¥é˜»å¡** | ç®€å•ç›´è§‚ï¼Œçº¿ç¨‹èµ„æºæµªè´¹ | è¿æ¥æ•°å°‘çš„ä¼ ç»Ÿåº”ç”¨ | `Socket`, `ServerSocket` |
| **åŒæ­¥éé˜»å¡** | è½®è¯¢æ¶ˆè€—CPUï¼Œå“åº”åŠæ—¶ | å®æ—¶æ€§è¦æ±‚é«˜çš„åœºæ™¯ | `SocketChannel.configureBlocking(false)` |
| **IOå¤šè·¯å¤ç”¨** | å•çº¿ç¨‹å¤„ç†å¤šè¿æ¥ï¼Œé«˜æ•ˆ | é«˜å¹¶å‘ç½‘ç»œåº”ç”¨ | `Selector`, `Epoll` |
| **å¼‚æ­¥IO** | çœŸæ­£å¼‚æ­¥ï¼Œæ€§èƒ½æœ€é«˜ | é«˜æ€§èƒ½æœåŠ¡å™¨ | `AsynchronousSocketChannel` |

### 3. Unixäº”ç§IOæ¨¡å‹å¯¹æ¯”

1. **é˜»å¡IO**ï¼šè¿›ç¨‹é˜»å¡ç›´åˆ°æ•°æ®å°±ç»ªå’Œæ•°æ®æ‹·è´å®Œæˆ
2. **éé˜»å¡IO**ï¼šç«‹å³è¿”å›ï¼Œè½®è¯¢æ£€æŸ¥çŠ¶æ€
3. **IOå¤šè·¯å¤ç”¨**ï¼šselect/poll/epollï¼ŒåŒæ—¶ç›‘æ§å¤šä¸ªfd
4. **ä¿¡å·é©±åŠ¨IO**ï¼šå†…æ ¸æ•°æ®å°±ç»ªæ—¶å‘é€ä¿¡å·é€šçŸ¥
5. **å¼‚æ­¥IO**ï¼šå†…æ ¸å®Œæˆæ‰€æœ‰æ“ä½œåé€šçŸ¥è¿›ç¨‹

**å…³é”®åŒºåˆ«ï¼š**
- å‰4ç§éƒ½æ˜¯**åŒæ­¥IO**ï¼ˆæ•°æ®æ‹·è´é˜¶æ®µé˜»å¡ï¼‰
- åªæœ‰ç¬¬5ç§æ˜¯çœŸæ­£çš„**å¼‚æ­¥IO**

## ğŸ’¼ äºŒã€å·¥ä½œçœ‹æ³•ç›¸å…³é—®é¢˜å›ç­”å»ºè®®

### 1. å·¥ä½œåœ°ç‚¹çœ‹æ³•
**å›ç­”æ€è·¯**ï¼šè¡¨è¾¾çµæ´»æ€§+èŒä¸šå‘å±•ä¼˜å…ˆ
"æˆ‘è®¤ä¸ºå·¥ä½œåœ°ç‚¹æ˜¯é‡è¦å› ç´ ä½†ä¸æ˜¯å†³å®šæ€§å› ç´ ã€‚æˆ‘æ›´å…³æ³¨å²—ä½çš„å‘å±•å‰æ™¯å’Œå›¢é˜Ÿçš„æŠ€æœ¯æ°›å›´ã€‚å¯¹äºPDDè¿™æ ·çš„ä¸€çº¿äº’è”ç½‘å…¬å¸ï¼Œæˆ‘æ„¿æ„æ ¹æ®ä¸šåŠ¡éœ€è¦é€‰æ‹©åˆé€‚çš„å·¥ä½œåœ°ç‚¹ï¼Œæ¯•ç«Ÿä¼˜ç§€çš„å¹³å°å’Œå›¢é˜Ÿå¯¹ä¸ªäººæˆé•¿æ›´ä¸ºé‡è¦ã€‚"

### 2. åŠ ç­æ€åº¦
**å›ç­”æ€è·¯**ï¼šç†æ€§çœ‹å¾…+æ•ˆç‡ä¼˜å…ˆ+ä»»åŠ¡å¯¼å‘
"æˆ‘å¯¹åŠ ç­çš„çœ‹æ³•æ˜¯æ¯”è¾ƒç†æ€§çš„ã€‚é¦–å…ˆï¼Œæˆ‘è®¤åŒåœ¨å…³é”®é¡¹ç›®èŠ‚ç‚¹æˆ–ç´§æ€¥ä»»åŠ¡æ—¶ï¼Œå¿…è¦çš„åŠ ç­æ˜¯ç¡®ä¿é¡¹ç›®æˆåŠŸçš„è´£ä»»ä½“ç°ã€‚ä½†æˆ‘æ›´æ³¨é‡å·¥ä½œæ•ˆç‡å’Œæ—¶é—´ç®¡ç†ï¼Œäº‰å–åœ¨æ­£å¸¸å·¥ä½œæ—¶é—´å†…å®Œæˆé«˜è´¨é‡äº§å‡ºã€‚

åŒæ—¶ï¼Œæˆ‘è®¤ä¸ºæŒç»­çš„é•¿æœŸåŠ ç­å¯èƒ½å½±å“åˆ›é€ åŠ›å’Œå·¥ä½œçƒ­æƒ…ï¼Œå› æ­¤æ›´æ”¯æŒç›®æ ‡å¯¼å‘å’Œå¼¹æ€§å·¥ä½œåˆ¶ï¼Œåœ¨ä¿è¯å·¥ä½œè´¨é‡çš„å‰æä¸‹çµæ´»å®‰æ’æ—¶é—´ã€‚"

### 3. èŒä¸šå‘å±•æœŸæœ›
**å›ç­”æ€è·¯**ï¼šæŠ€æœ¯æ·±åº¦+ä¸šåŠ¡ä»·å€¼+é•¿æœŸæˆé•¿
"æˆ‘æœŸæœ›çš„å·¥ä½œæ˜¯èƒ½å¤Ÿæ·±å…¥æŠ€æœ¯åº•å±‚ï¼Œè§£å†³æœ‰æŒ‘æˆ˜æ€§çš„é—®é¢˜ï¼Œå¹¶åˆ›é€ å®é™…ä¸šåŠ¡ä»·å€¼ã€‚å¸Œæœ›èƒ½åœ¨æŠ€æœ¯ä¸Šä¸æ–­æ·±è€•ï¼ŒåŒæ—¶åŸ¹å…»ä¸šåŠ¡æ´å¯ŸåŠ›ï¼Œæœ€ç»ˆæˆä¸ºæ—¢æ‡‚æŠ€æœ¯åˆæ‡‚ä¸šåŠ¡çš„ç»¼åˆå‹äººæ‰ã€‚"

## ğŸŒ³ ä¸‰ã€äºŒå‰æ ‘èŠ‚ç‚¹æœ€çŸ­è¾¹æ•°ç®—æ³•é¢˜

### é¢˜ç›®åˆ†æ
**ç±»ä¼¼LeetCodeé¢˜ç›®**ï¼š
- äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆï¼ˆLCAï¼‰ï¼ˆç¬¬236é¢˜ï¼‰
- ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´çš„è·¯å¾„ï¼ˆå˜å½¢é¢˜ï¼‰

### ç®—æ³•æ€è·¯

**æ–¹æ³•ä¸€ï¼šå…ˆæ‰¾LCAå†è®¡ç®—è·ç¦»ï¼ˆæ¨èï¼‰**
1. æ‰¾åˆ°ä¸¤ä¸ªèŠ‚ç‚¹çš„æœ€è¿‘å…¬å…±ç¥–å…ˆï¼ˆLCAï¼‰
2. åˆ†åˆ«è®¡ç®—LCAåˆ°ä¸¤ä¸ªèŠ‚ç‚¹çš„è·ç¦»
3. å°†ä¸¤ä¸ªè·ç¦»ç›¸åŠ å³ä¸ºæœ€çŸ­è¾¹æ•°

**æ–¹æ³•äºŒï¼šä½¿ç”¨DFSåŒæ—¶æŸ¥æ‰¾ä¸¤ä¸ªèŠ‚ç‚¹**
1. æ·±åº¦ä¼˜å…ˆéå†äºŒå‰æ ‘
2. è®°å½•ä»æ ¹èŠ‚ç‚¹åˆ°ä¸¤ä¸ªèŠ‚ç‚¹çš„è·¯å¾„
3. æ‰¾åˆ°è·¯å¾„çš„åˆ†å‰ç‚¹ï¼Œè®¡ç®—æ€»è¾¹æ•°

### å¤æ‚åº¦åˆ†æ
- **æ—¶é—´å¤æ‚åº¦**ï¼šO(n)ï¼Œnä¸ºèŠ‚ç‚¹æ•°
- **ç©ºé—´å¤æ‚åº¦**ï¼šO(h)ï¼Œhä¸ºæ ‘é«˜ï¼ˆé€’å½’æ ˆç©ºé—´ï¼‰

### å®Œæ•´ä»£ç å®ç°

```java
/**
 * äºŒå‰æ ‘èŠ‚ç‚¹å®šä¹‰
 */
class TreeNode {
    int val;
    TreeNode left;
    TreeNode right;
    TreeNode(int x) { val = x; }
}

public class BinaryTreeShortestPath {
    
    /**
     * è®¡ç®—ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´çš„æœ€çŸ­è¾¹æ•°
     * @param root äºŒå‰æ ‘æ ¹èŠ‚ç‚¹
     * @param p ç¬¬ä¸€ä¸ªèŠ‚ç‚¹
     * @param q ç¬¬äºŒä¸ªèŠ‚ç‚¹
     * @return ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´çš„æœ€çŸ­è¾¹æ•°
     */
    public int shortestPathLength(TreeNode root, TreeNode p, TreeNode q) {
        // æ‰¾åˆ°æœ€è¿‘å…¬å…±ç¥–å…ˆ
        TreeNode lca = findLCA(root, p, q);
        
        // è®¡ç®—LCAåˆ°ä¸¤ä¸ªèŠ‚ç‚¹çš„è·ç¦»
        int distance1 = distanceFromNode(lca, p, 0);
        int distance2 = distanceFromNode(lca, q, 0);
        
        // è¿”å›ä¸¤ä¸ªè·ç¦»ä¹‹å’Œ
        return distance1 + distance2;
    }
    
    /**
     * æŸ¥æ‰¾æœ€è¿‘å…¬å…±ç¥–å…ˆï¼ˆLCAï¼‰
     * @param root å½“å‰èŠ‚ç‚¹
     * @param p èŠ‚ç‚¹1
     * @param q èŠ‚ç‚¹2
     * @return æœ€è¿‘å…¬å…±ç¥–å…ˆèŠ‚ç‚¹
     */
    private TreeNode findLCA(TreeNode root, TreeNode p, TreeNode q) {
        if (root == null || root == p || root == q) {
            return root;
        }
        
        // åœ¨å·¦å­æ ‘ä¸­æŸ¥æ‰¾
        TreeNode left = findLCA(root.left, p, q);
        // åœ¨å³å­æ ‘ä¸­æŸ¥æ‰¾
        TreeNode right = findLCA(root.right, p, q);
        
        // å¦‚æœå·¦å³å­æ ‘éƒ½æ‰¾åˆ°ï¼Œå½“å‰èŠ‚ç‚¹å°±æ˜¯LCA
        if (left != null && right != null) {
            return root;
        }
        
        // å¦åˆ™è¿”å›éç©ºçš„é‚£ä¸ªå­æ ‘çš„ç»“æœ
        return left != null ? left : right;
    }
    
    /**
     * è®¡ç®—ä»å½“å‰èŠ‚ç‚¹åˆ°ç›®æ ‡èŠ‚ç‚¹çš„è·ç¦»
     * @param current å½“å‰èŠ‚ç‚¹
     * @param target ç›®æ ‡èŠ‚ç‚¹
     * @param currentDistance å½“å‰è·ç¦»
     * @return åˆ°è¾¾ç›®æ ‡èŠ‚ç‚¹çš„è·ç¦»ï¼Œå¦‚æœæœªæ‰¾åˆ°è¿”å›-1
     */
    private int distanceFromNode(TreeNode current, TreeNode target, int currentDistance) {
        if (current == null) {
            return -1; // æœªæ‰¾åˆ°ç›®æ ‡èŠ‚ç‚¹
        }
        
        if (current == target) {
            return currentDistance; // æ‰¾åˆ°ç›®æ ‡èŠ‚ç‚¹
        }
        
        // åœ¨å·¦å­æ ‘ä¸­æŸ¥æ‰¾
        int leftDistance = distanceFromNode(current.left, target, currentDistance + 1);
        if (leftDistance != -1) {
            return leftDistance;
        }
        
        // åœ¨å³å­æ ‘ä¸­æŸ¥æ‰¾
        int rightDistance = distanceFromNode(current.right, target, currentDistance + 1);
        return rightDistance;
    }
    
    /**
     * æµ‹è¯•ç”¨ä¾‹
     */
    public static void main(String[] args) {
        // æ„å»ºæµ‹è¯•äºŒå‰æ ‘
        //       1
        //      / \
        //     2   3
        //    / \   \
        //   4   5   6
        //        \
        //         7
        TreeNode root = new TreeNode(1);
        root.left = new TreeNode(2);
        root.right = new TreeNode(3);
        root.left.left = new TreeNode(4);
        root.left.right = new TreeNode(5);
        root.right.right = new TreeNode(6);
        root.left.right.right = new TreeNode(7);
        
        BinaryTreeShortestPath solution = new BinaryTreeShortestPath();
        
        // æµ‹è¯•ç”¨ä¾‹1ï¼šèŠ‚ç‚¹4å’ŒèŠ‚ç‚¹7ï¼Œé¢„æœŸç»“æœï¼š3 (2->5->7)
        int result1 = solution.shortestPathLength(root, root.left.left, root.left.right.right);
        System.out.println("Distance between 4 and 7: " + result1);
        
        // æµ‹è¯•ç”¨ä¾‹2ï¼šèŠ‚ç‚¹2å’ŒèŠ‚ç‚¹6ï¼Œé¢„æœŸç»“æœï¼š3 (2->1->3->6)
        int result2 = solution.shortestPathLength(root, root.left, root.right.right);
        System.out.println("Distance between 2 and 6: " + result2);
        
        // æµ‹è¯•ç”¨ä¾‹3ï¼šèŠ‚ç‚¹5å’ŒèŠ‚ç‚¹7ï¼Œé¢„æœŸç»“æœï¼š1 (5->7)
        int result3 = solution.shortestPathLength(root, root.left.right, root.left.right.right);
        System.out.println("Distance between 5 and 7: " + result3);
    }
}
```

### è¾¹ç•Œæƒ…å†µå¤„ç†

1. **ç©ºæ ‘æˆ–ç©ºèŠ‚ç‚¹**ï¼šç›´æ¥è¿”å›0æˆ–-1
2. **ç›¸åŒèŠ‚ç‚¹**ï¼šè·ç¦»ä¸º0
3. **èŠ‚ç‚¹ä¸å­˜åœ¨**ï¼šè¿”å›-1æˆ–æŠ›å‡ºå¼‚å¸¸
4. **ä¸€ä¸ªèŠ‚ç‚¹æ˜¯å¦ä¸€ä¸ªèŠ‚ç‚¹çš„ç¥–å…ˆ**ï¼šç›´æ¥è®¡ç®—è·ç¦»

### ä¼˜åŒ–ç‰ˆæœ¬ï¼ˆå‡å°‘éå†æ¬¡æ•°ï¼‰

```java
/**
 * ä¼˜åŒ–ç‰ˆï¼šä¸€æ¬¡éå†åŒæ—¶è®¡ç®—è·ç¦»
 */
class OptimizedSolution {
    private int shortestPath = -1;
    
    public int shortestPathLength(TreeNode root, TreeNode p, TreeNode q) {
        if (p == q) return 0;
        dfs(root, p, q);
        return shortestPath;
    }
    
    private int[] dfs(TreeNode node, TreeNode p, TreeNode q) {
        if (node == null) return new int[]{-1, -1};
        
        int[] left = dfs(node.left, p, q);
        int[] right = dfs(node.right, p, q);
        
        // æ£€æŸ¥å½“å‰èŠ‚ç‚¹æ˜¯å¦åŒ¹é…
        int foundP = (node == p) ? 0 : -1;
        int foundQ = (node == q) ? 0 : -1;
        
        // åˆå¹¶å·¦å³å­æ ‘ç»“æœ
        int currentP = Math.max(left[0], Math.max(right[0], foundP));
        int currentQ = Math.max(left[1], Math.max(right[1], foundQ));
        
        // å¦‚æœåŒæ—¶æ‰¾åˆ°på’Œqï¼Œæ›´æ–°æœ€çŸ­è·¯å¾„
        if (currentP != -1 && currentQ != -1 && 
            (shortestPath == -1 || currentP + currentQ < shortestPath)) {
            shortestPath = currentP + currentQ;
        }
        
        // è¿”å›å½“å‰çŠ¶æ€ï¼šè¿”å›æ‰¾åˆ°çš„èŠ‚ç‚¹å’Œè·ç¦»
        return new int[]{
            currentP != -1 ? currentP + 1 : -1,
            currentQ != -1 ? currentQ + 1 : -1
        };
    }
}
```

## ğŸ¯ å››ã€é¢è¯•æ€»ç»“ä¸å»ºè®®

### åº”å¯¹æŠ€æœ¯éš¾é¢˜çš„ç­–ç•¥
1. **å…ˆç†è§£é—®é¢˜**ï¼šç¡®è®¤é¢˜ç›®è¦æ±‚å’Œè¾“å…¥è¾“å‡º
2. **ä¸¾ä¾‹è¯´æ˜**ï¼šç”¨å…·ä½“ä¾‹å­éªŒè¯æ€è·¯
3. **åˆ†æ­¥è§£å†³**ï¼šå…ˆè§£å†³å­é—®é¢˜å†ç»„åˆ
4. **è€ƒè™‘è¾¹ç•Œ**ï¼šå¤„ç†ç‰¹æ®Šæƒ…å†µ
5. **å¤æ‚åº¦åˆ†æ**ï¼šè¯´æ˜æ—¶é—´ç©ºé—´å¤æ‚åº¦

### æœ¬æ¬¡é¢è¯•è¡¨ç°åˆ†æ
è™½ç„¶åªå›ç­”äº†30%ï¼Œä½†è¿™åœ¨é«˜çº§æŠ€æœ¯é¢è¯•ä¸­å¾ˆå¸¸è§ã€‚å…³é”®æ˜¯è¦å±•ç°ï¼š
- åŸºç¡€çŸ¥è¯†ä½“ç³»çš„å®Œæ•´æ€§
- è§£å†³é—®é¢˜çš„æ€ç»´è¿‡ç¨‹
- å­¦ä¹ èƒ½åŠ›å’ŒæŠ€æœ¯çƒ­æƒ…

### åç»­å­¦ä¹ å»ºè®®
1. **æ·±å…¥æ“ä½œç³»ç»ŸåŸç†**ï¼šç‰¹åˆ«æ˜¯IOæ¨¡å‹å’Œå†…å­˜ç®¡ç†
2. **åˆ·é¢˜ç­–ç•¥**ï¼šæŒ‰ä¸“é¢˜åˆ†ç±»ç»ƒä¹ ï¼Œæ³¨é‡æ€è·¯è€Œéæ­»è®°
3. **ç³»ç»Ÿè®¾è®¡**ï¼šå­¦ä¹ å¤§è§„æ¨¡ç³»ç»Ÿè®¾è®¡æ¨¡å¼
4. **æºç é˜…è¯»**ï¼šé˜…è¯»Javaæ ¸å¿ƒåº“å’Œæµè¡Œæ¡†æ¶æºç 

è®°ä½ï¼ŒæŠ€æœ¯é¢è¯•æ˜¯åŒå‘é€‰æ‹©çš„è¿‡ç¨‹ï¼Œæ—¢è¦å±•ç¤ºè‡ªå·±çš„èƒ½åŠ›ï¼Œä¹Ÿè¦äº†è§£å›¢é˜Ÿçš„æŠ€æœ¯æ°›å›´å’Œå‘å±•æœºä¼šã€‚ç¥ä½ åç»­é¢è¯•é¡ºåˆ©ï¼
