美团后端一面
1. 看你简历上写了几个项目，可以挑一个你觉得最有代表性的介绍一下吗？

2. 我看你提到了mcp，能解释下它是什么吗？主要起什么作用，在什么地方起作用？

3. 我们来聊聊基础吧，HashMap是线程安全的吗？为什么？

4. StringBuffer和StringBuilder，它俩有什么区别？

5. TCP和UDP，能分别说说它们的特点和常见的应用场景吗？

6. 来一道概率题吧：现在你只有一个能生成1到5随机数的`rand5()`函数，怎么用它来实现一个能生成1到7随机数的`rand7()`函数？（讲了大体思路没讲具体思路 估计死了)

7. 你之前有做过全栈开发吗？

8. 我们来深入聊聊MySQL索引。能介绍一下吗？为什么它通常用B+树来实现？B+树的每个节点里都存了些什么？另外，一张表里可以有几个聚簇索引？（把我问死了）

9. 来个系统设计题。假设我们要搞一个秒杀活动：晚上八点开抢1000台手机。你会怎么设计这个秒杀系统？

10. 你觉得，一个好的Prompt通常需要包含哪些要素？

11. 在我们平台里，Agent模式和Ask模式，它俩有什么区别？

12. 最后来撕一道算法题吧：给你一个链表的头节点，再给你两个索引值（比如m和n），你需要反转这个特定区间的链表节点。

作者：Leander_38
链接：https://www.nowcoder.com/discuss/789409117856161792?sourceSSR=search
来源：牛客网

下面我按照**面试问答的节奏**，把每道题的核心要点、思路和答法整理出来（示例基于 Java / 后端开发场景）。

---

### 1️⃣  项目介绍

> **策略**：选业务复杂度、技术深度、结果可量化的项目。

**示例答法**（假设是“电商促销平台”项目）：

* 背景：负责活动中心的设计，核心是秒杀/优惠券模块。
* 亮点：

  * 设计了基于 Redis + Lua 的库存扣减，支持高并发下的一致性。
  * 引入消息队列（Kafka）削峰填谷，保证下单流程平稳。
  * 做了热点 Key 预热和分片，避免 Redis 热点问题。
* 成果：活动 QPS 峰值 5w/s，99 线接口延迟 < 30ms。

👉 重点突出**技术挑战 → 解决方案 → 结果指标**。

---

### 2️⃣ MCP 是什么

* MCP（Model Context Protocol）：一种 **大模型上下文协议**，用于定义 LLM 与外部工具 / 数据源的交互接口。
* 作用：

  * 统一描述“模型能调用的工具”及其输入输出格式。
  * 让模型以标准化方式访问 DB、搜索引擎、API。
* 场景：Agent 系统、RAG 检索、LangChain / LangGraph 工作流中。

---

### 3️⃣ HashMap 是否线程安全

* **不是线程安全的**，多线程 put/resize 时可能导致死循环或数据丢失。
* 线程安全替代：`ConcurrentHashMap` 或 `Collections.synchronizedMap`。

---

### 4️⃣ StringBuffer vs StringBuilder

| 特性    | StringBuffer            | StringBuilder |
| ----- | ----------------------- | ------------- |
| 线程安全性 | 方法加 `synchronized`，线程安全 | 非线程安全         |
| 性能    | 较低（锁开销）                 | 更快            |
| 场景    | 多线程环境                   | 单线程/局部变量      |

---

### 5️⃣ TCP vs UDP

| 对比   | TCP            | UDP            |
| ---- | -------------- | -------------- |
| 连接   | 面向连接           | 无连接            |
| 可靠性  | 保证可靠、顺序        | 不保证            |
| 传输速度 | 慢（握手、确认）       | 快              |
| 开销   | 较大             | 小              |
| 场景   | HTTP、HTTPS、FTP | DNS、视频/语音直播、游戏 |

---

### 6️⃣ `rand5()` → `rand7()`

**核心思路**：

* 用 `rand5()` 生成 1\~25 的均匀分布，再“拒绝采样”到 1\~21。

```java
int rand7() {
    while (true) {
        int num = (rand5() - 1) * 5 + rand5(); // 1..25
        if (num <= 21) return (num - 1) % 7 + 1;
    }
}
```

---

### 7️⃣ 全栈开发经历

* 简述有无经验。比如：

  * 前端用 React / Vue 做后台管理台。
  * Node.js / SpringBoot 做接口。
  * 熟悉 Nginx、Docker 部署。
* 重点说**跨端联调 & 部署经验**。

---

### 8️⃣ MySQL 索引 & B+ 树

* **索引作用**：加快查询，减少 IO。
* **B+ 树原因**：

  * 平衡树，查询 O(logN)，磁盘访问少。
  * 叶子节点链表方便范围查询。
* 节点内容：

  * 非叶子节点只存 key（和指针）。
  * 叶子节点存 key+整行数据（聚簇索引）或 key+主键值（二级索引）。
* 聚簇索引数量：**一张表只有一个聚簇索引**（InnoDB 默认是主键）。

---

### 9️⃣ 秒杀系统设计

关键：**削峰、限流、一致性**

1. **接口限流**（令牌桶/漏桶）防止打爆。
2. **库存预减**：库存写在 Redis，用 Lua 保证原子性。
3. **异步下单**：消息队列（Kafka/RocketMQ）处理订单。
4. **防重下单**：用户维度的去重 key。
5. **热点优化**：分片库存、CDN 缓存页面。
6. **最终一致性**：DB 异步落库，定时对账。

---

### 🔟 优秀 Prompt 要素

* 明确目标 & 角色：告诉模型“你是资深后端工程师”。
* 输入上下文：描述背景数据。
* 输出格式：列表 / JSON / 表格。
* 限制条件：字数、风格、示例。
* 迭代指令：允许模型自我修正。

---

### 11️⃣ Agent 模式 vs Ask 模式

| 模式    | 定义              | 特点              |
| ----- | --------------- | --------------- |
| Ask   | 一次性问答，模型直接返回结果  | 适合简单查询          |
| Agent | 模型按步骤调用工具、推理、记忆 | 适合多步骤、需要外部数据的任务 |

---

### 12️⃣ 反转链表区间 \[m,n]

思路：**穿针引线**。

1. 找到 `m-1` 节点。
2. 头插法翻转 `[m,n]`。

```java
public ListNode reverseBetween(ListNode head, int m, int n) {
    ListNode dummy = new ListNode(0);
    dummy.next = head;
    ListNode pre = dummy;
    for (int i = 1; i < m; i++) pre = pre.next;

    ListNode cur = pre.next;
    for (int i = 0; i < n - m; i++) {
        ListNode next = cur.next;
        cur.next = next.next;
        next.next = pre.next;
        pre.next = next;
    }
    return dummy.next;
}
```

---

✅ **小贴士**

* 面试时别背诵答案，按\*\*“场景→分析→方案→亮点”\*\*顺序表述。
* 系统设计 & 索引题目多练多画图，答得条理清晰就能加分。

要不要我把第 9 题的秒杀架构画个简单的示意图，方便记忆？
