å¥½çš„ï¼Œæˆ‘ä»¬ç›´æ¥è¿›å…¥ **ä¼ä¸šçº§ Spring Boot é¡¹ç›®æ¨¡æ¿å®æˆ˜**ï¼Œç»™ä½ ä¸€ä¸ªå®Œæ•´çš„é¡¹ç›®éª¨æ¶ï¼Œè®©ä½ å¯ä»¥ç›´æ¥ç”¨åœ¨é¢è¯•æˆ–è€…çœŸå®å¼€å‘ã€‚

æˆ‘ä¼šåˆ†å››éƒ¨åˆ†å†™å‡ºï¼š

* **1. é¡¹ç›®ç»“æ„ï¼ˆæ ‡å‡†åˆ†å±‚ï¼‰**
* **2. æ ¸å¿ƒä»£ç ï¼ˆController / Service / Repository / Configï¼‰**
* **3. å…¨å±€é…ç½®ï¼ˆç»Ÿä¸€è¿”å›ä½“ã€å¼‚å¸¸å¤„ç†ã€Swaggerã€CORSã€JWT å®‰å…¨ï¼‰**
* **4. Docker éƒ¨ç½² & å¤šç¯å¢ƒé…ç½®**

---

## **ä¸€ã€é¡¹ç›®ç»“æ„ï¼ˆæ ‡å‡†ä¼ä¸šæ¶æ„ï¼‰**

```
springboot-template/
 â””â”€â”€ src/main/java/com/example/demo
      â”œâ”€â”€ controller      // API æ§åˆ¶å™¨
      â”œâ”€â”€ service         // ä¸šåŠ¡é€»è¾‘
      â”œâ”€â”€ repository      // æ•°æ®è®¿é—®ï¼ˆJPAï¼‰
      â”œâ”€â”€ entity          // æ•°æ®åº“å®ä½“
      â”œâ”€â”€ dto             // è¯·æ±‚/å“åº” DTO
      â”œâ”€â”€ config          // é…ç½®ç±»ï¼ˆCORSã€Swaggerã€å®‰å…¨ï¼‰
      â”œâ”€â”€ security        // JWT å®‰å…¨ç›¸å…³
      â””â”€â”€ common          // å·¥å…·ç±»ã€ç»Ÿä¸€è¿”å›ä½“ã€å¼‚å¸¸å¤„ç†
 â””â”€â”€ resources
      â”œâ”€â”€ application.yml // å¤šç¯å¢ƒé…ç½®ï¼ˆdev/prodï¼‰
      â””â”€â”€ static / templates // ï¼ˆå¯é€‰ï¼Œå‰ç«¯é¡µé¢ï¼‰
```

---

## **äºŒã€æ ¸å¿ƒåŠŸèƒ½ä»£ç **

### âœ… **1. Entityï¼ˆæ•°æ®åº“æ¨¡å‹ï¼‰**

```java
@Entity
@Table(name = "todo")
public class Todo {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    private String title;
    private Boolean completed = false;

    // Getters and Setters
}
```

---

### âœ… **2. Repositoryï¼ˆæ•°æ®è®¿é—®å±‚ï¼‰**

```java
public interface TodoRepository extends JpaRepository<Todo, Long> {
}
```

---

### âœ… **3. Serviceï¼ˆä¸šåŠ¡é€»è¾‘å±‚ï¼‰**

```java
@Service
public class TodoService {
    private final TodoRepository repository;

    public TodoService(TodoRepository repository) {
        this.repository = repository;
    }

    public Page<Todo> list(int page, int size) {
        Pageable pageable = PageRequest.of(page, size);
        return repository.findAll(pageable);
    }

    public Todo add(Todo todo) {
        return repository.save(todo);
    }

    public void delete(Long id) {
        repository.deleteById(id);
    }
}
```

---

### âœ… **4. Controllerï¼ˆAPI å±‚ï¼Œå¸¦ç»Ÿä¸€è¿”å›ä½“ï¼‰**

```java
@RestController
@RequestMapping("/api/todos")
public class TodoController {
    private final TodoService service;

    public TodoController(TodoService service) {
        this.service = service;
    }

    @GetMapping
    public ApiResponse<Page<Todo>> list(@RequestParam int page, @RequestParam int size) {
        return ApiResponse.success(service.list(page, size));
    }

    @PostMapping
    public ApiResponse<Todo> add(@RequestBody Todo todo) {
        return ApiResponse.success(service.add(todo));
    }

    @DeleteMapping("/{id}")
    public ApiResponse<?> delete(@PathVariable Long id) {
        service.delete(id);
        return ApiResponse.success(null);
    }
}
```

---

## **ä¸‰ã€å…¨å±€é…ç½®**

### âœ… **1. ç»Ÿä¸€è¿”å›ä½“**

```java
public class ApiResponse<T> {
    private int code;
    private String message;
    private T data;

    public static <T> ApiResponse<T> success(T data) {
        ApiResponse<T> res = new ApiResponse<>();
        res.code = 0;
        res.message = "success";
        res.data = data;
        return res;
    }

    public static ApiResponse<?> error(String message) {
        ApiResponse<?> res = new ApiResponse<>();
        res.code = 1;
        res.message = message;
        return res;
    }
}
```

---

### âœ… **2. å…¨å±€å¼‚å¸¸å¤„ç†**

```java
@RestControllerAdvice
public class GlobalExceptionHandler {

    @ExceptionHandler(Exception.class)
    public ApiResponse<?> handleException(Exception e) {
        return ApiResponse.error(e.getMessage());
    }
}
```

---

### âœ… **3. CORS é…ç½®**

```java
@Configuration
public class WebConfig implements WebMvcConfigurer {
    @Override
    public void addCorsMappings(CorsRegistry registry) {
        registry.addMapping("/**").allowedOrigins("*").allowedMethods("*");
    }
}
```

---

### âœ… **4. Swagger é…ç½®ï¼ˆAPI æ–‡æ¡£ï¼‰**

```xml
<!-- pom.xml -->
<dependency>
    <groupId>org.springdoc</groupId>
    <artifactId>springdoc-openapi-starter-webmvc-ui</artifactId>
    <version>2.2.0</version>
</dependency>
```

å¯åŠ¨åè®¿é—®ï¼š
ğŸ‘‰ **[http://localhost:8080/swagger-ui.html](http://localhost:8080/swagger-ui.html)**

---

### âœ… **5. JWT å®‰å…¨ï¼ˆç®€åŒ–ç‰ˆï¼‰**

**ç”Ÿæˆå’ŒéªŒè¯ JWT**

```java
@Component
public class JwtUtil {
    private final String SECRET = "mysecret";

    public String generateToken(String username) {
        return Jwts.builder()
                .setSubject(username)
                .signWith(SignatureAlgorithm.HS256, SECRET)
                .compact();
    }

    public String validateToken(String token) {
        return Jwts.parser().setSigningKey(SECRET)
                .parseClaimsJws(token)
                .getBody().getSubject();
    }
}
```

**Security é…ç½®ï¼ˆå…è®¸éƒ¨åˆ†æ¥å£åŒ¿åè®¿é—®ï¼‰**

```java
@Configuration
@EnableWebSecurity
public class SecurityConfig {

    @Bean
    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {
        http.csrf().disable()
            .authorizeHttpRequests()
            .requestMatchers("/api/auth/**", "/swagger-ui/**").permitAll()
            .anyRequest().authenticated()
            .and()
            .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);
        return http.build();
    }
}
```

---

## **å››ã€Docker éƒ¨ç½² & å¤šç¯å¢ƒé…ç½®**

### âœ… **application.yml**

```yaml
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/demo?serverTimezone=UTC
    username: root
    password: root
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true

---
spring:
  config:
    activate:
      on-profile: prod
  datasource:
    url: jdbc:mysql://prod-db:3306/demo?serverTimezone=UTC
    username: produser
    password: prodpass
```

---

### âœ… **Dockerfile**

```dockerfile
FROM openjdk:17-jdk-alpine
COPY target/demo.jar app.jar
ENTRYPOINT ["java","-jar","/app.jar"]
```

æ‰“åŒ… & è¿è¡Œï¼š

```bash
mvn clean package -DskipTests
docker build -t springboot-demo .
docker run -p 8080:8080 springboot-demo
```

---

### âœ… **å®Œæˆåä½ èƒ½å¹²ä»€ä¹ˆï¼Ÿ**

âœ” å¯ä»¥**æœ¬åœ°è·‘é¡¹ç›®**
âœ” **å‰åç«¯åˆ†ç¦»**ï¼ˆReact/Vue æ¥æ¥å£ï¼‰
âœ” **Swagger è°ƒè¯•**
âœ” **æ‰“åŒ… Docker éƒ¨ç½²**
âœ” **å¤šç¯å¢ƒåˆ‡æ¢ï¼ˆdev / prodï¼‰**
âœ” **JWT ç™»å½•ä¿æŠ¤æ¥å£**ï¼ˆé¢è¯•äº®ç‚¹ï¼‰

---

ğŸ”¥ **ä¸‹ä¸€æ­¥å‡çº§ç‰ˆæœ¬ï¼š**

* âœ… **Redis ç¼“å­˜**ï¼ˆåŠ é€Ÿæ¥å£ï¼‰
* âœ… **å¼‚æ­¥ä»»åŠ¡ @Async**
* âœ… **å®šæ—¶ä»»åŠ¡ @Scheduled**
* âœ… **æ–‡ä»¶ä¸Šä¼  / ä¸‹è½½**
* âœ… **å…¨é“¾è·¯æ—¥å¿— + AOP æ‰“å°è¯·æ±‚å‚æ•°**

è¦ä¸è¦æˆ‘ç›´æ¥å¸®ä½  **å†™ä¸€ä¸ªâ€œåŒ…å« Redis ç¼“å­˜ã€JWT ç™»å½•ã€Swaggerã€å…¨å±€å¼‚å¸¸ã€Dockerã€åˆ†é¡µã€AOP æ—¥å¿—â€çš„å®Œæ•´ Spring Boot é¡¹ç›®ä»£ç ï¼ˆæ‰“åŒ…å¥½ï¼Œå¯ä»¥ç›´æ¥è¿è¡Œï¼‰**ï¼Ÿ

è¿™ä¸ªæ¨¡æ¿å¯ä»¥ï¼š

* ç”¨æ¥åš**æ¯•è®¾ / ç®€å†é¡¹ç›®**
* ç”¨æ¥**ç›´æ¥ä¸Šçº¿**

è¦æˆ‘å¸®ä½ å†™è¿™ä¸ªå®Œæ•´ç‰ˆå—ï¼Ÿ
