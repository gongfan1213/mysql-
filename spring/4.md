好的，我们直接进入 **企业级 Spring Boot 项目模板实战**，给你一个完整的项目骨架，让你可以直接用在面试或者真实开发。

我会分四部分写出：

* **1. 项目结构（标准分层）**
* **2. 核心代码（Controller / Service / Repository / Config）**
* **3. 全局配置（统一返回体、异常处理、Swagger、CORS、JWT 安全）**
* **4. Docker 部署 & 多环境配置**

---

## **一、项目结构（标准企业架构）**

```
springboot-template/
 └── src/main/java/com/example/demo
      ├── controller      // API 控制器
      ├── service         // 业务逻辑
      ├── repository      // 数据访问（JPA）
      ├── entity          // 数据库实体
      ├── dto             // 请求/响应 DTO
      ├── config          // 配置类（CORS、Swagger、安全）
      ├── security        // JWT 安全相关
      └── common          // 工具类、统一返回体、异常处理
 └── resources
      ├── application.yml // 多环境配置（dev/prod）
      └── static / templates // （可选，前端页面）
```

---

## **二、核心功能代码**

### ✅ **1. Entity（数据库模型）**

```java
@Entity
@Table(name = "todo")
public class Todo {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    private String title;
    private Boolean completed = false;

    // Getters and Setters
}
```

---

### ✅ **2. Repository（数据访问层）**

```java
public interface TodoRepository extends JpaRepository<Todo, Long> {
}
```

---

### ✅ **3. Service（业务逻辑层）**

```java
@Service
public class TodoService {
    private final TodoRepository repository;

    public TodoService(TodoRepository repository) {
        this.repository = repository;
    }

    public Page<Todo> list(int page, int size) {
        Pageable pageable = PageRequest.of(page, size);
        return repository.findAll(pageable);
    }

    public Todo add(Todo todo) {
        return repository.save(todo);
    }

    public void delete(Long id) {
        repository.deleteById(id);
    }
}
```

---

### ✅ **4. Controller（API 层，带统一返回体）**

```java
@RestController
@RequestMapping("/api/todos")
public class TodoController {
    private final TodoService service;

    public TodoController(TodoService service) {
        this.service = service;
    }

    @GetMapping
    public ApiResponse<Page<Todo>> list(@RequestParam int page, @RequestParam int size) {
        return ApiResponse.success(service.list(page, size));
    }

    @PostMapping
    public ApiResponse<Todo> add(@RequestBody Todo todo) {
        return ApiResponse.success(service.add(todo));
    }

    @DeleteMapping("/{id}")
    public ApiResponse<?> delete(@PathVariable Long id) {
        service.delete(id);
        return ApiResponse.success(null);
    }
}
```

---

## **三、全局配置**

### ✅ **1. 统一返回体**

```java
public class ApiResponse<T> {
    private int code;
    private String message;
    private T data;

    public static <T> ApiResponse<T> success(T data) {
        ApiResponse<T> res = new ApiResponse<>();
        res.code = 0;
        res.message = "success";
        res.data = data;
        return res;
    }

    public static ApiResponse<?> error(String message) {
        ApiResponse<?> res = new ApiResponse<>();
        res.code = 1;
        res.message = message;
        return res;
    }
}
```

---

### ✅ **2. 全局异常处理**

```java
@RestControllerAdvice
public class GlobalExceptionHandler {

    @ExceptionHandler(Exception.class)
    public ApiResponse<?> handleException(Exception e) {
        return ApiResponse.error(e.getMessage());
    }
}
```

---

### ✅ **3. CORS 配置**

```java
@Configuration
public class WebConfig implements WebMvcConfigurer {
    @Override
    public void addCorsMappings(CorsRegistry registry) {
        registry.addMapping("/**").allowedOrigins("*").allowedMethods("*");
    }
}
```

---

### ✅ **4. Swagger 配置（API 文档）**

```xml
<!-- pom.xml -->
<dependency>
    <groupId>org.springdoc</groupId>
    <artifactId>springdoc-openapi-starter-webmvc-ui</artifactId>
    <version>2.2.0</version>
</dependency>
```

启动后访问：
👉 **[http://localhost:8080/swagger-ui.html](http://localhost:8080/swagger-ui.html)**

---

### ✅ **5. JWT 安全（简化版）**

**生成和验证 JWT**

```java
@Component
public class JwtUtil {
    private final String SECRET = "mysecret";

    public String generateToken(String username) {
        return Jwts.builder()
                .setSubject(username)
                .signWith(SignatureAlgorithm.HS256, SECRET)
                .compact();
    }

    public String validateToken(String token) {
        return Jwts.parser().setSigningKey(SECRET)
                .parseClaimsJws(token)
                .getBody().getSubject();
    }
}
```

**Security 配置（允许部分接口匿名访问）**

```java
@Configuration
@EnableWebSecurity
public class SecurityConfig {

    @Bean
    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {
        http.csrf().disable()
            .authorizeHttpRequests()
            .requestMatchers("/api/auth/**", "/swagger-ui/**").permitAll()
            .anyRequest().authenticated()
            .and()
            .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);
        return http.build();
    }
}
```

---

## **四、Docker 部署 & 多环境配置**

### ✅ **application.yml**

```yaml
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/demo?serverTimezone=UTC
    username: root
    password: root
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true

---
spring:
  config:
    activate:
      on-profile: prod
  datasource:
    url: jdbc:mysql://prod-db:3306/demo?serverTimezone=UTC
    username: produser
    password: prodpass
```

---

### ✅ **Dockerfile**

```dockerfile
FROM openjdk:17-jdk-alpine
COPY target/demo.jar app.jar
ENTRYPOINT ["java","-jar","/app.jar"]
```

打包 & 运行：

```bash
mvn clean package -DskipTests
docker build -t springboot-demo .
docker run -p 8080:8080 springboot-demo
```

---

### ✅ **完成后你能干什么？**

✔ 可以**本地跑项目**
✔ **前后端分离**（React/Vue 接接口）
✔ **Swagger 调试**
✔ **打包 Docker 部署**
✔ **多环境切换（dev / prod）**
✔ **JWT 登录保护接口**（面试亮点）

---

🔥 **下一步升级版本：**

* ✅ **Redis 缓存**（加速接口）
* ✅ **异步任务 @Async**
* ✅ **定时任务 @Scheduled**
* ✅ **文件上传 / 下载**
* ✅ **全链路日志 + AOP 打印请求参数**

要不要我直接帮你 **写一个“包含 Redis 缓存、JWT 登录、Swagger、全局异常、Docker、分页、AOP 日志”的完整 Spring Boot 项目代码（打包好，可以直接运行）**？

这个模板可以：

* 用来做**毕设 / 简历项目**
* 用来**直接上线**

要我帮你写这个完整版吗？
